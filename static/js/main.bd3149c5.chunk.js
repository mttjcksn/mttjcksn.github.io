(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(e,t,n){},22:function(e,t,n){},41:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(0),c=n.n(o),i=n(6),r=n.n(i),s=(n(41),n(10)),l=n.n(s),u=n(30),d=n(7),p=n(18),m=n(3),b=n(11),j=n(12),h=n(14),v=n(13),x=n(35),f=n(15),O=(n(22),n(19),{name:"Overdrive",desc:"Overdrive distortion",category:"Audio Effects",nodeType:"overdrive",inPortList:[{name:"Audio in",desc:"Audio to be distorted",type:0}],outPortList:[{name:"Audio out",desc:"Distorted audio",type:0}],paramList:[{name:"Overdrive",desc:"Distortion amount",min:0,max:1,default:0},{name:"Tone",desc:"Tone",min:0,max:1,default:.5}]});var g={name:"State Variable Filter",desc:"Resonant state-variable filter",category:"Audio Effects",nodeType:"svf",inPortList:[{name:"Audio in",desc:"Audio to be filtered",type:0}],outPortList:[{name:"Audio out",desc:"Filtered audio",type:0}],paramList:[{name:"Freq",desc:"Filter center frequency",min:0,max:15e3,default:15e3},{name:"Q",desc:"Filter resonance",min:0,max:1,default:0},{name:"State",desc:"LP/BP/HP mix",min:0,max:1,default:0}]};var y={audioInNode:Object(o.memo)((function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.c,{type:"source",position:m.d.Bottom,style:{width:"10px",height:"10px",background:"#555"},onConnect:function(e){return console.log("handle onConnect",e)}}),Object(a.jsx)("div",{className:"nodeStyle",children:e.data.name})]})})),audioOutNode:Object(o.memo)((function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.c,{type:"target",position:m.d.Top,style:{width:"10px",height:"10px",background:"#555"},onConnect:function(e){return console.log("handle onConnect",e)}}),Object(a.jsx)("div",{className:"nodeStyle",children:e.data.name})]})})),overdrive:function(e){var t=e.selected?"selected":"",n={width:"10px",height:"10px",background:"#555"};return Object(a.jsxs)(a.Fragment,{children:[O.inPortList.map((function(e,t){return Object(a.jsx)(m.c,{type:"target",position:m.d.Top,style:n,onConnect:function(e){return console.log("handle onConnect",e)}},t)})),Object(a.jsxs)("div",{className:"nodeStyle ".concat(t),children:[Object(a.jsx)("div",{className:"ObjUiTitle",style:{paddingBottom:"15px"},children:e.data.name}),O.paramList.map((function(t,n){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"ObjUiParamName",style:{width:"60px"},children:t.name}),Object(a.jsx)("div",{className:"ObjUiParamVal",children:e.data.params[n].value})]},n)}))]}),O.outPortList.map((function(e,t){return Object(a.jsx)(m.c,{type:"source",position:m.d.Bottom,style:n,onConnect:function(e){return console.log("handle onConnect",e)}},t)}))]})},svf:function(e){var t=e.selected?"selected":"",n={width:"10px",height:"10px",background:"#555"};return Object(a.jsxs)(a.Fragment,{children:[g.inPortList.map((function(e,t){return Object(a.jsx)(m.c,{type:"target",position:m.d.Top,style:n,onConnect:function(e){return console.log("handle onConnect",e)}},t)})),Object(a.jsxs)("div",{className:"nodeStyle ".concat(t),children:[Object(a.jsx)("div",{className:"ObjUiTitle",style:{paddingBottom:"15px"},children:e.data.name}),g.paramList.map((function(t,n){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"ObjUiParamName",style:{width:"60px"},children:t.name}),Object(a.jsx)("div",{className:"ObjUiParamVal",children:e.data.params[n].value})]},n)}))]}),g.outPortList.map((function(e,t){return Object(a.jsx)(m.c,{type:"source",position:m.d.Bottom,style:n,onConnect:function(e){return console.log("handle onConnect",e)}},t)}))]})}},C={};C.overdrive=O,C.svf=g;var N={categories:[{name:"Audio Effects",desc:""},{name:"Control",desc:""}],objects:C};function k(){return Object(a.jsxs)("div",{className:"libraryLayout",children:[Object(a.jsx)("div",{style:{gridColumn:"1 / 4"},className:"menuTitle",children:"Library"}),N.categories.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"menuSubtitle",children:e.name},t),Object.keys(N.objects).map((function(t,n){return N.objects[t].category===e.name?Object(a.jsx)("div",{className:"libraryObjectContainer",children:Object(a.jsx)("div",{className:"dndnode",onDragStart:function(e){return function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"}(e,N.objects[t].nodeType)},draggable:!0,children:N.objects[t].name},n)},n):null}))]},t)}))]})}var S=n(5),T=n(20),w=n.n(T),P=n(25),L={menu:function(e,t){return Object(S.a)(Object(S.a)({},e),{},{backgroundColor:"var(--bgGrey)",color:"whitesmoke"})},control:function(e,t){return Object(S.a)(Object(S.a)({},e),{},{backgroundColor:t.isSelected?"var(--bgGrey2)":"var(--bgGrey)",color:"whitesmoke",width:"150px"})},option:function(e,t){return Object(S.a)(Object(S.a)({},e),{},{backgroundColor:t.isSelected?"var(--bgGrey2)":"var(--bgGrey)",color:"whitesmoke",":hover":{backgroundColor:"var(--bgGrey2)"}})},singleValue:function(e,t){return Object(S.a)(Object(S.a)({},e),{},{backgroundColor:t.isSelected?"var(--bgGrey2)":"var(--bgGrey)",color:"whitesmoke"})}};function F(e){var t,n,o,c,i=[{value:999,label:"Fixed"}],r=[{value:0,label:"Linear"},{value:1,label:"Exp"},{value:2,label:"Para"}],s={input:{height:"35px",padding:"10px",color:"var(--accentCol)",fontSize:"16px",background:"var(--bgGrey)"}},l=null;(null===(t=e.selObj)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.params.length)>0&&(l=Object(d.a)(null===(o=e.selObj)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.params));return e.controls.forEach((function(e,t){i.push({value:t,label:e.name})})),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"libraryLayout",children:[Object(a.jsx)("div",{className:"menuTitle",children:"Properties"}),null!=l?N.objects[e.selObj.type].paramList.map((function(t,n){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"inspectorSubTitle",children:t.name}),Object(a.jsxs)("div",{className:"inspectorProp",children:[Object(a.jsx)("div",{className:"inspectorLabel",children:"Control:"}),Object(a.jsx)(P.a,{styles:L,options:i,value:i[e.selObj.data.params[n].fixed?0:e.selObj.data.params[n].ctlIdx+1],onChange:function(t){"Fixed"===t.label?l[n].fixed=!0:(l[n].fixed=!1,l[n].ctlIdx=null===t||void 0===t?void 0:t.value),e.onParamChange(l)}})]}),e.selObj.data.params[n].fixed?Object(a.jsxs)("div",{className:"inspectorProp",children:[Object(a.jsx)("div",{className:"inspectorLabel",children:"Value:"}),Object(a.jsx)(w.a,{min:t.min,max:t.max,value:e.selObj.data.params[n].value,step:.1,precision:2,size:5,style:s,onChange:function(t){null!=t&&(l[n].value=t,e.onParamChange(l))}})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"inspectorProp",children:[Object(a.jsx)("div",{className:"inspectorLabel",children:"Min:"}),Object(a.jsx)(w.a,{min:t.min,max:t.max,value:e.selObj.data.params[n].mapMin,step:.1,precision:2,size:5,style:s,onChange:function(t){null!=t&&(l[n].mapMin=t,e.onParamChange(l))}})]}),Object(a.jsxs)("div",{className:"inspectorProp",children:[Object(a.jsx)("div",{className:"inspectorLabel",children:"Max:"}),Object(a.jsx)(w.a,{min:t.min,max:t.max,value:e.selObj.data.params[n].mapMax,step:.1,precision:2,size:5,style:s,onChange:function(t){null!=t&&(l[n].mapMax=t,e.onParamChange(l))}})]}),Object(a.jsxs)("div",{className:"inspectorProp",children:[Object(a.jsx)("div",{className:"inspectorLabel",children:"Shape:"}),Object(a.jsx)(P.a,{styles:L,options:r,value:r[e.selObj.data.params[n].mapShape],onChange:function(t){l[n].mapShape=null===t||void 0===t?void 0:t.value,e.onParamChange(l)}})]})]})]})})):Object(a.jsx)("div",{children:"Select a single object"})]})})}var A=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state=void 0,a.state={show:!1,activeTab:0},a}return Object(j.a)(n,[{key:"setShow",value:function(e){this.setState({show:e})}},{key:"renderActiveTab",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"navbar",children:[Object(a.jsx)("div",{className:"menuIcon",children:Object(a.jsx)(x.a,{onClick:function(){return e.setShow(!e.state.show)}})}),Object(a.jsx)("div",{style:{fontFamily:"arcade"},children:"\xa0\xa0h o t w i r e"})]}),Object(a.jsxs)("div",{className:this.state.show?"menu_show menu":"menu_hide menu",children:[Object(a.jsx)(f.a,{active:0===this.state.activeTab,className:"menuTabs menuTab1",onClick:function(){return e.renderActiveTab(0)},variant:"outline-secondary",children:"Library"}),Object(a.jsx)(f.a,{active:1===this.state.activeTab,className:"menuTabs menuTab2",onClick:function(){return e.renderActiveTab(1)},variant:"outline-secondary",children:"Inspector"}),Object(a.jsx)(f.a,{active:2===this.state.activeTab,className:"menuTabs menuTab3",onClick:function(){return e.renderActiveTab(2)},variant:"outline-secondary",children:"File"}),Object(a.jsx)(f.a,{active:3===this.state.activeTab,className:"menuTabs menuTab4",onClick:function(){return e.renderActiveTab(3)},variant:"outline-secondary",children:"Advanced"}),1===this.state.activeTab?Object(a.jsx)(F,{controls:this.props.controls,selObj:this.props.selObj,onParamChange:this.props.onParamChange}):0===this.state.activeTab?Object(a.jsx)(k,{}):2===this.state.activeTab?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{gridColumn:"1 / 5"},className:"menuTitle",children:"File"}),Object(a.jsx)(f.a,{className:"menuButton",onClick:function(){return e.props.onSave()},children:"Save"}),Object(a.jsxs)("label",{className:"menuButton",style:{paddingTop:"6px",height:"25px"},children:["Load",Object(a.jsx)("input",{className:"menuButton",type:"file",onChange:function(t){return e.props.onLoad(t)}})]})]}):null]})]})}}]),n}(c.a.Component),M=n(33),E=n(32),B=(n(58),function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).xpos=120*(3-e.props.index)+15,e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(M.a,{diameter:80,min:0,max:100,step:1,value:this.props.control.value,theme:{donutColor:getComputedStyle(document.documentElement).getPropertyValue("--highlightCol"),bgrColor:getComputedStyle(document.documentElement).getPropertyValue("--bgGrey"),centerColor:getComputedStyle(document.documentElement).getPropertyValue("--bgGrey"),centerFocusedColor:getComputedStyle(document.documentElement).getPropertyValue("--bgGrey"),donutThickness:2},style:{display:"inline-block",position:"fixed",right:this.xpos+"px",marginTop:"20px",width:"100px"},onValueChange:function(t){return e.props.callbackVal(t)},ariaLabelledBy:"my-label",spaceMaxFromZero:!1,children:Object(a.jsx)(E.a,{className:"contolsEditText",style:{width:"100px",height:"10px"},value:this.props.control.name,onChange:function(t){return e.props.callbackName(t)},onSave:function(t){return e.props.callbackName(t.value)}})})})}}]),n}(c.a.Component)),G=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{style:{right:this.props.pos+"px",borderColor:"inactive"===this.props.state?"var(--unHighlightCol)":"var(--highlightCol)",borderWidth:"selected"===this.props.state?"3px":"1px"},className:"pageButton",onClick:function(){return e.props.onClick()},children:this.props.text})}}]),n}(c.a.Component),V=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={page:0},a.state={page:0},a}return Object(j.a)(n,[{key:"addPage",value:function(e){if(this.props.controls.length/4<=e){var t=Object(d.a)(this.props.controls);t.push({name:"ctl"+t.length.toString(),value:0}),t.push({name:"ctl"+t.length.toString(),value:0}),t.push({name:"ctl"+t.length.toString(),value:0}),t.push({name:"ctl"+t.length.toString(),value:0}),this.props.onChange(t,null,null,null)}}},{key:"setPage",value:function(e){this.setState({page:e})}},{key:"render",value:function(){for(var e=this,t=[],n=[],o=0,c=function(){var n=i;t.push(Object(a.jsx)(B,{control:e.props.controls[4*e.state.page+n],callbackVal:function(t){e.props.onChange(null,4*e.state.page+n,t,null)},callbackName:function(t){e.props.onChange(null,4*e.state.page+n,null,t)},index:n},n))},i=0;i<4;i++)c();var r=function(){var t=i;o=62*(7-i)-7;var c=4*(i+1);e.props.controls.length>=c?n.push(Object(a.jsx)(G,{pos:o,text:i.toString(),state:e.state.page===t?"selected":"active",onClick:function(){e.setPage(t)}},i)):c===e.props.controls.length+4?n.push(Object(a.jsx)(G,{pos:o,text:"+",state:"active",onClick:function(){e.addPage(t)}},i)):n.push(Object(a.jsx)(G,{pos:o,text:"",state:"inactive",onClick:function(){}},i))};for(i=0;i<8;i++)r();return Object(a.jsxs)("div",{className:"controlPane",children:[t,Object(a.jsx)("div",{className:"pages",children:n})]})}}]),n}(c.a.Component),D=n(34),I=[{id:"1",type:"audioInNode",data:{name:"Audio In",params:[],inputs:[],outputs:[]},position:{x:500,y:100}},{id:"2",type:"audioOutNode",data:{name:"Audio Out",params:[],inputs:[],outputs:[]},position:{x:500,y:600}}],J=[{name:"ctl1",value:0},{name:"ctl2",value:8},{name:"ctl3",value:16},{name:"ctl4",value:64}],U=3,z=0,R="~%$^",W=function(){var e=Object(o.useRef)(null),t=Object(o.useState)(null),n=Object(p.a)(t,2),c=n[0],i=n[1],r=Object(o.useState)(I),s=Object(p.a)(r,2),b=s[0],j=s[1],h=Object(o.useState)(J),v=Object(p.a)(h,2),x=v[0],f=v[1],O=Object(o.useState)(null),g=Object(p.a)(O,2),C=g[0],k=g[1];return Object(a.jsx)("div",{style:{height:"100vh"},children:Object(a.jsx)(m.e,{children:Object(a.jsx)("div",{style:{height:"100vh"},className:"reactflow-wrapper",ref:e,children:Object(a.jsxs)(m.g,{style:{background:"#171620"},elements:b,onElementClick:function(e,t){},onSelectionChange:function(e){null!=e&&1===(null===e||void 0===e?void 0:e.length)?b.forEach((function(t,n){t.id===e[0].id&&(k(t),z=n)})):k(null)},onPaneClick:function(e){},onElementsRemove:function(e){return j((function(t){return Object(m.h)(e,t)}))},onConnect:function(e){return j((function(t){return Object(m.f)(e,t)}))},onLoad:function(e){return i(e)},onDrop:function(t){t.preventDefault();var n=e.current.getBoundingClientRect(),a=t.dataTransfer.getData("application/reactflow"),o=c.project({x:t.clientX-n.left,y:t.clientY-n.top}),i={name:"".concat(a),params:[],inputs:[],outputs:[]};N.objects[a].paramList.forEach((function(e,t){i.params.push({fixed:!0,value:e.default,ctlIdx:0,mapMin:0,mapMax:1,mapShape:0})}));var r={id:"dndnode_"+U++,type:a,position:o,data:i,selectable:!0};j((function(e){return e.concat(r)}))},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},nodeTypes:y,deleteKeyCode:46,children:[Object(a.jsx)(A,{show:!1,controls:x,selObj:C,onParamChange:function(e){var t=Object(d.a)(b);t[z].data.params=e,j(t)},onSave:function(){var e=new Blob([JSON.stringify(b)+R+JSON.stringify(x)],{type:"text/plain;charset=utf-8"});D.saveAs.saveAs(e,"config.hwc")},onLoad:function(e){e.preventDefault();var t=new FileReader;t.onload=function(){var e=Object(u.a)(l.a.mark((function e(n){var a,o,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.result,o=a.split(R),c=JSON.parse(o[0]),i=JSON.parse(o[1]),console.log(c),console.log(i),j(c),f(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.readAsText(e.target.files[0])}}),Object(a.jsx)(m.a,{gap:12,size:1,color:"#000000"}),Object(a.jsx)(V,{page:0,controls:x,onChange:function(e,t,n,a){if(null==e){if(t<x.length){var o=Object(d.a)(x);null!==n&&(o[t].value=n),null!==a&&(o[t].name=a),f(o),j((function(e){return e.map((function(e){return void 0!==e.data&&e.data.params.forEach((function(e,n){if(!1===e.fixed&&e.ctlIdx===t)switch(e.mapShape){case 0:e.value=(o[t].value/100*(e.mapMax-e.mapMin)+e.mapMin).toFixed(2);break;case 1:e.value=(o[t].value/100*(o[t].value/100)*(e.mapMax-e.mapMin)+e.mapMin).toFixed(2);break;case 2:var a=(o[t].value-50)/5;e.value=((100-a*a)/100*(e.mapMax-e.mapMin)+e.mapMin).toFixed(2)}})),e}))}))}}else f(e)}}),Object(a.jsx)(m.b,{})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(W,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,1,2]]]);
//# sourceMappingURL=main.bd3149c5.chunk.js.map